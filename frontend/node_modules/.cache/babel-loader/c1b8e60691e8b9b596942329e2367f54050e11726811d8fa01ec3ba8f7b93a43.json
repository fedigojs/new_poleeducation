{"ast":null,"code":"var _jsxFileName = \"/Users/igorfedianin/MyProject/poleeducation.in.ua/frontend/src/components/ModalVotingExercise.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport Modal from './Modal';\nimport api from '../api/api';\nimport './ModalVotingExercise.css';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ModalVotingExercise = ({\n  isOpen,\n  onClose,\n  errorMessage,\n  competitionParticipationId\n}) => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [selectedParticipationDetails, setSelectedParticipationDetails] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [completedExercises, setCompletedExercises] = useState({});\n  const [judgeId, setJudgeId] = useState(null);\n  const [athleteId, setAthleteId] = useState(null);\n  const [isExistingProtocol, setIsExistingProtocol] = useState(false);\n  useEffect(() => {\n    if (user) {\n      setJudgeId(user.userId);\n    }\n  }, [user]);\n  useEffect(() => {\n    if (isOpen && competitionParticipationId && judgeId) {\n      fetchExerciseDetails();\n      loadExistingProtocol();\n    }\n  }, [isOpen, competitionParticipationId, judgeId]);\n  const fetchExerciseDetails = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get(`/api/comp-part/${competitionParticipationId}`);\n      setSelectedParticipationDetails(response.data.exercises || []);\n      setAthleteId(response.data.athleteId); // Предположим, что athleteId также возвращается\n    } catch (error) {\n      console.error('Error fetching exercise details:', error);\n      setSelectedParticipationDetails([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadExistingProtocol = async () => {\n    if (competitionParticipationId && judgeId) {\n      try {\n        const response = await api.get(`/api/protocol-exercise-result/participation/${competitionParticipationId}/judge/${judgeId}`);\n        console.log('Response from server:', response);\n        if (response.data && response.data.length > 0) {\n          const existingProtocol = response.data.reduce((acc, item) => {\n            acc[item.exerciseId] = item.result; // Возвращаем числовое значение\n            return acc;\n          }, {});\n          console.log('Existing protocol:', existingProtocol);\n          setCompletedExercises(existingProtocol);\n          setIsExistingProtocol(true);\n        } else {\n          console.log('No existing protocol found');\n        }\n      } catch (error) {\n        console.error('Ошибка при загрузке существующего протокола:', error);\n      }\n    }\n  };\n  const handleCheckboxChange = exerciseId => {\n    setCompletedExercises(prev => ({\n      ...prev,\n      [exerciseId]: prev[exerciseId] === 1 ? 0 : 1\n    }));\n  };\n  const calculateTotalScore = () => {\n    return Object.values(completedExercises).filter(result => result === 1).length;\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const results = selectedParticipationDetails.map(detail => ({\n      exerciseId: detail.id,\n      result: completedExercises[detail.id] ? 1 : 0\n    }));\n    try {\n      const response = await api.post('/api/protocol-exercise-result/score-post', {\n        results,\n        judgeId: user.userId,\n        athleteId,\n        competitionParticipationId\n      });\n      if (response.status === 201) {\n        onClose();\n        alert('Результаты успешно сохранены!');\n      } else {\n        throw new Error('Не удалось сохранить результаты');\n      }\n    } catch (error) {\n      console.error('Ошибка при сохранении результатов:', error.message);\n      alert('Ошибка при сохранении результатов: ' + error.message);\n    }\n  };\n  const handleDelete = async event => {\n    event.preventDefault();\n    try {\n      const response = await api.delete(`/api/protocol-exercise-result/participation/${competitionParticipationId}/judge/${judgeId}`);\n      if (response.status === 200) {\n        onClose();\n        alert('Протокол успешно удален!');\n      } else {\n        throw new Error('Не удалось удалить протокол');\n      }\n    } catch (error) {\n      console.error('Ошибка при удалении протокола:', error.message);\n      alert('Ошибка при удалении протокола: ' + error.message);\n    }\n  };\n  const handleUpdate = async event => {\n    event.preventDefault();\n    const results = selectedParticipationDetails.map(detail => ({\n      exerciseId: detail.id,\n      result: completedExercises[detail.id] ? 1 : 0\n    }));\n    try {\n      const response = await api.put(`/api/protocol-exercise-result/participation/${competitionParticipationId}/judge/${judgeId}`, {\n        results,\n        judgeId,\n        competitionParticipationId,\n        athleteId\n      });\n      if (response.status === 200) {\n        onClose();\n        alert('Протокол успешно обновлен!');\n      } else {\n        throw new Error('Не удалось обновить протокол');\n      }\n    } catch (error) {\n      console.error('Ошибка при обновлении протокола:', error.message);\n      alert('Ошибка при обновлении протокола: ' + error.message);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    className: \"modal-exercise-backdrop\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-exercise\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-close-button\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0443\\u043F\\u0440\\u0430\\u0436\\u043D\\u0435\\u043D\\u0438\\u0439\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0410\\u0442\\u043B\\u0435\\u0442:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 5\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 6\n      }, this) : errorMessage ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 6\n      }, this) : selectedParticipationDetails.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0442.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"details-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0423\\u043F\\u0440\\u0430\\u0436\\u043D\\u0435\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: selectedParticipationDetails.map(detail => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: detail.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: detail.descriptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: detail.image,\n                  alt: detail.name,\n                  className: \"exercise-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: !!completedExercises[detail.id],\n                  onChange: () => handleCheckboxChange(detail.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 11\n              }, this)]\n            }, detail.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"total-score\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\u041E\\u0431\\u0449\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430 \\u0431\\u0430\\u043B\\u043B\\u043E\\u0432: \", calculateTotalScore()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 7\n        }, this), isExistingProtocol ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"update-score\",\n            onClick: handleUpdate,\n            children: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-score\",\n            onClick: handleDelete,\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0442\\u043E\\u043A\\u043E\\u043B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-score\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 3\n  }, this);\n};\n_s(ModalVotingExercise, \"VBOBzB+jgOggXaGVp4aoAER2D8k=\");\n_c = ModalVotingExercise;\nexport default ModalVotingExercise;\nvar _c;\n$RefreshReg$(_c, \"ModalVotingExercise\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Modal","api","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","ModalVotingExercise","isOpen","onClose","errorMessage","competitionParticipationId","_s","user","selectedParticipationDetails","setSelectedParticipationDetails","loading","setLoading","completedExercises","setCompletedExercises","judgeId","setJudgeId","athleteId","setAthleteId","isExistingProtocol","setIsExistingProtocol","userId","fetchExerciseDetails","loadExistingProtocol","response","get","data","exercises","error","console","log","length","existingProtocol","reduce","acc","item","exerciseId","result","handleCheckboxChange","prev","calculateTotalScore","Object","values","filter","handleSubmit","event","preventDefault","results","map","detail","id","post","status","alert","Error","message","handleDelete","delete","handleUpdate","put","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","name","descriptions","src","image","alt","type","checked","onChange","_c","$RefreshReg$"],"sources":["/Users/igorfedianin/MyProject/poleeducation.in.ua/frontend/src/components/ModalVotingExercise.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport Modal from './Modal';\nimport api from '../api/api';\nimport './ModalVotingExercise.css';\nimport { AuthContext } from '../context/AuthContext';\n\nconst ModalVotingExercise = ({\n\tisOpen,\n\tonClose,\n\terrorMessage,\n\tcompetitionParticipationId,\n}) => {\n\tconst { user } = useContext(AuthContext);\n\tconst [selectedParticipationDetails, setSelectedParticipationDetails] =\n\t\tuseState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [completedExercises, setCompletedExercises] = useState({});\n\tconst [judgeId, setJudgeId] = useState(null);\n\tconst [athleteId, setAthleteId] = useState(null);\n\tconst [isExistingProtocol, setIsExistingProtocol] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (user) {\n\t\t\tsetJudgeId(user.userId);\n\t\t}\n\t}, [user]);\n\n\tuseEffect(() => {\n\t\tif (isOpen && competitionParticipationId && judgeId) {\n\t\t\tfetchExerciseDetails();\n\t\t\tloadExistingProtocol();\n\t\t}\n\t}, [isOpen, competitionParticipationId, judgeId]);\n\n\tconst fetchExerciseDetails = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst response = await api.get(\n\t\t\t\t`/api/comp-part/${competitionParticipationId}`\n\t\t\t);\n\t\t\tsetSelectedParticipationDetails(response.data.exercises || []);\n\t\t\tsetAthleteId(response.data.athleteId); // Предположим, что athleteId также возвращается\n\t\t} catch (error) {\n\t\t\tconsole.error('Error fetching exercise details:', error);\n\t\t\tsetSelectedParticipationDetails([]);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst loadExistingProtocol = async () => {\n\t\tif (competitionParticipationId && judgeId) {\n\t\t\ttry {\n\t\t\t\tconst response = await api.get(\n\t\t\t\t\t`/api/protocol-exercise-result/participation/${competitionParticipationId}/judge/${judgeId}`\n\t\t\t\t);\n\n\t\t\t\tconsole.log('Response from server:', response);\n\n\t\t\t\tif (response.data && response.data.length > 0) {\n\t\t\t\t\tconst existingProtocol = response.data.reduce(\n\t\t\t\t\t\t(acc, item) => {\n\t\t\t\t\t\t\tacc[item.exerciseId] = item.result; // Возвращаем числовое значение\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t\tconsole.log('Existing protocol:', existingProtocol);\n\t\t\t\t\tsetCompletedExercises(existingProtocol);\n\t\t\t\t\tsetIsExistingProtocol(true);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('No existing protocol found');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Ошибка при загрузке существующего протокола:',\n\t\t\t\t\terror\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleCheckboxChange = (exerciseId) => {\n\t\tsetCompletedExercises((prev) => ({\n\t\t\t...prev,\n\t\t\t[exerciseId]: prev[exerciseId] === 1 ? 0 : 1,\n\t\t}));\n\t};\n\n\tconst calculateTotalScore = () => {\n\t\treturn Object.values(completedExercises).filter(\n\t\t\t(result) => result === 1\n\t\t).length;\n\t};\n\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst results = selectedParticipationDetails.map((detail) => ({\n\t\t\texerciseId: detail.id,\n\t\t\tresult: completedExercises[detail.id] ? 1 : 0,\n\t\t}));\n\n\t\ttry {\n\t\t\tconst response = await api.post(\n\t\t\t\t'/api/protocol-exercise-result/score-post',\n\t\t\t\t{\n\t\t\t\t\tresults,\n\t\t\t\t\tjudgeId: user.userId,\n\t\t\t\t\tathleteId,\n\t\t\t\t\tcompetitionParticipationId,\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (response.status === 201) {\n\t\t\t\tonClose();\n\t\t\t\talert('Результаты успешно сохранены!');\n\t\t\t} else {\n\t\t\t\tthrow new Error('Не удалось сохранить результаты');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка при сохранении результатов:', error.message);\n\t\t\talert('Ошибка при сохранении результатов: ' + error.message);\n\t\t}\n\t};\n\n\tconst handleDelete = async (event) => {\n\t\tevent.preventDefault();\n\n\t\ttry {\n\t\t\tconst response = await api.delete(\n\t\t\t\t`/api/protocol-exercise-result/participation/${competitionParticipationId}/judge/${judgeId}`\n\t\t\t);\n\t\t\tif (response.status === 200) {\n\t\t\t\tonClose();\n\t\t\t\talert('Протокол успешно удален!');\n\t\t\t} else {\n\t\t\t\tthrow new Error('Не удалось удалить протокол');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка при удалении протокола:', error.message);\n\t\t\talert('Ошибка при удалении протокола: ' + error.message);\n\t\t}\n\t};\n\n\tconst handleUpdate = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst results = selectedParticipationDetails.map((detail) => ({\n\t\t\texerciseId: detail.id,\n\t\t\tresult: completedExercises[detail.id] ? 1 : 0,\n\t\t}));\n\n\t\ttry {\n\t\t\tconst response = await api.put(\n\t\t\t\t`/api/protocol-exercise-result/participation/${competitionParticipationId}/judge/${judgeId}`,\n\t\t\t\t{\n\t\t\t\t\tresults,\n\t\t\t\t\tjudgeId,\n\t\t\t\t\tcompetitionParticipationId,\n\t\t\t\t\tathleteId,\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (response.status === 200) {\n\t\t\t\tonClose();\n\t\t\t\talert('Протокол успешно обновлен!');\n\t\t\t} else {\n\t\t\t\tthrow new Error('Не удалось обновить протокол');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка при обновлении протокола:', error.message);\n\t\t\talert('Ошибка при обновлении протокола: ' + error.message);\n\t\t}\n\t};\n\n\tif (!isOpen) return null;\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t\tclassName='modal-exercise-backdrop'>\n\t\t\t<div className='modal-exercise'>\n\t\t\t\t<button\n\t\t\t\t\tclassName='modal-close-button'\n\t\t\t\t\tonClick={onClose}>\n\t\t\t\t\t&times;\n\t\t\t\t</button>\n\t\t\t\t<h3>Детали упражнений</h3>\n\t\t\t\t<h2>Атлет:</h2>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<p>Загрузка...</p>\n\t\t\t\t) : errorMessage ? (\n\t\t\t\t\t<p className='error-message'>{errorMessage}</p>\n\t\t\t\t) : selectedParticipationDetails.length === 0 ? (\n\t\t\t\t\t<p>Данные отсутствуют.</p>\n\t\t\t\t) : (\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<table className='details-table'>\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>Упражнение</th>\n\t\t\t\t\t\t\t\t\t<th>Описание</th>\n\t\t\t\t\t\t\t\t\t<th>Изображение</th>\n\t\t\t\t\t\t\t\t\t<th>Выполнено</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{selectedParticipationDetails.map((detail) => (\n\t\t\t\t\t\t\t\t\t<tr key={detail.id}>\n\t\t\t\t\t\t\t\t\t\t<td>{detail.name}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{detail.descriptions}</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={detail.image}\n\t\t\t\t\t\t\t\t\t\t\t\talt={detail.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='exercise-image'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\t\t\t\t!!completedExercises[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdetail.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleCheckboxChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdetail.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<div className='total-score'>\n\t\t\t\t\t\t\t<h3>Общая сумма баллов: {calculateTotalScore()}</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isExistingProtocol ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='update-score'\n\t\t\t\t\t\t\t\t\tonClick={handleUpdate}>\n\t\t\t\t\t\t\t\t\tОбновить результаты\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='delete-score'\n\t\t\t\t\t\t\t\t\tonClick={handleDelete}>\n\t\t\t\t\t\t\t\t\tУдалить протокол\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tclassName='submit-score'>\n\t\t\t\t\t\t\t\tСохранить результаты\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</form>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default ModalVotingExercise;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}