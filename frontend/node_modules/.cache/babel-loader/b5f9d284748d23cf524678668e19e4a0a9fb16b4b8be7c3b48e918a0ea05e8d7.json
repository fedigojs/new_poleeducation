{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3002';\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Custom-Header': 'value' // Убедитесь, что этот заголовок действительно вам нужен\n  }\n});\nexport const setAuthToken = token => {\n  api.defaults.headers.common['Authorization'] = token ? `Bearer ${token}` : '';\n};\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    // Обработка ошибок аутентификации\n    console.error('Not authorized, token expired or invalid');\n    // Дополнительная логика по обработке ошибок аутентификации\n  }\n  return Promise.reject(error);\n});\n\n// Установка интерсептора запроса только для экземпляра api, а не глобально для axios\napi.interceptors.request.use(request => {\n  const token = localStorage.getItem('authToken'); // Получение токена из хранилища\n  request.headers['Authorization'] = token ? `Bearer ${token}` : '';\n  return request;\n});\nexport default api;","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","setAuthToken","token","defaults","common","interceptors","response","use","error","_error$response","status","console","Promise","reject","request","localStorage","getItem"],"sources":["/Users/igorfedianin/MyProject/poleeducation.in.ua/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:3002';\n\nconst api = axios.create({\n\tbaseURL: API_URL,\n\theaders: {\n\t\t'Custom-Header': 'value', // Убедитесь, что этот заголовок действительно вам нужен\n\t},\n});\nexport const setAuthToken = (token) => {\n\tapi.defaults.headers.common['Authorization'] = token\n\t\t? `Bearer ${token}`\n\t\t: '';\n};\n\napi.interceptors.response.use(\n\t(response) => response,\n\t(error) => {\n\t\tif (error.response?.status === 401) {\n\t\t\t// Обработка ошибок аутентификации\n\t\t\tconsole.error('Not authorized, token expired or invalid');\n\t\t\t// Дополнительная логика по обработке ошибок аутентификации\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n);\n\n// Установка интерсептора запроса только для экземпляра api, а не глобально для axios\napi.interceptors.request.use((request) => {\n\tconst token = localStorage.getItem('authToken'); // Получение токена из хранилища\n\trequest.headers['Authorization'] = token ? `Bearer ${token}` : '';\n\treturn request;\n});\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACxBC,OAAO,EAAEH,OAAO;EAChBI,OAAO,EAAE;IACR,eAAe,EAAE,OAAO,CAAE;EAC3B;AACD,CAAC,CAAC;AACF,OAAO,MAAMC,YAAY,GAAIC,KAAK,IAAK;EACtCL,GAAG,CAACM,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC,GAAGF,KAAK,GAChD,UAASA,KAAM,EAAC,GACjB,EAAE;AACN,CAAC;AAEDL,GAAG,CAACQ,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC3BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;EAAA,IAAAC,eAAA;EACV,IAAI,EAAAA,eAAA,GAAAD,KAAK,CAACF,QAAQ,cAAAG,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IACnC;IACAC,OAAO,CAACH,KAAK,CAAC,0CAA0C,CAAC;IACzD;EACD;EACA,OAAOI,OAAO,CAACC,MAAM,CAACL,KAAK,CAAC;AAC7B,CACD,CAAC;;AAED;AACAX,GAAG,CAACQ,YAAY,CAACS,OAAO,CAACP,GAAG,CAAEO,OAAO,IAAK;EACzC,MAAMZ,KAAK,GAAGa,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;EACjDF,OAAO,CAACd,OAAO,CAAC,eAAe,CAAC,GAAGE,KAAK,GAAI,UAASA,KAAM,EAAC,GAAG,EAAE;EACjE,OAAOY,OAAO;AACf,CAAC,CAAC;AAEF,eAAejB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}